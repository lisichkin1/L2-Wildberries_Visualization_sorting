(()=>{"use strict";const e=()=>{const e=[];for(let n=0;n<100;n++)e.push(t(5,1e3));return e},t=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),n=e=>new Promise((t=>setTimeout(t,e))),r=(e,t,n)=>{document.querySelector(".sort").innerHTML="";const r=document.querySelector(".sort");for(let l=0;l<n.length;l++){const o=document.createElement("div");o.className="array-item",l!==e&&l!==t||o.classList.add(l===e?"greenItem":"redItem"),o.innerText=n[l],o.style.height="".concat(n[l]/10,"%"),r.appendChild(o)}};let l=[];const o=document.querySelector(".bubble"),c=document.querySelector(".insertion"),i=document.querySelector(".quick"),a=document.querySelector(".selection"),s=document.querySelector(".merge"),u=document.querySelector(".random"),d=document.querySelector(".play"),m=document.querySelector(".stop"),f=document.querySelector(".input"),h=document.querySelector(".user_add");let y=!1,g=!1,v=0,q=0,w="";const L=async()=>{w="bubble";const e=l.length,t=document.querySelectorAll(".array-item");y=!0;for(let o=v;o<e-1;o++){v+=1;for(let c=q;c<e-o-1;c++){if(!g)return v-=1,q=c,void(y=!1);if(q+=1,l[c]>l[c+1]){const e=l[c];l[c]=l[c+1],l[c+1]=e,r(c,c+1,l),await n(100)}t[c].classList.remove("greenItem"),t[c+1].classList.remove("redItem")}q=0}v=0,y=!1,console.log(l)},S=(e,t)=>e===t?0:e<t?-1:1,k=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;w="insertion";const{length:t}=l;let o;y=!0;for(let c=1;c<t;c++){let t=c;for(o=l[c];t>0&&1===e(l[t-1],o);)if(l[t]=l[t-1],l[t-1]=o,t--,r(t,t-1,l),await n(100),!g)return void(y=!1);l[t]=o}},b=(e,t,n)=>{let r=e[t];e[t]=e[n],e[n]=r},E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;return w="quick",p(e,0,e.length-1,t)},p=async(e,t,n,r)=>{let l;return e.length>1&&(l=await M(e,t,n,r),t<l-1&&await p(e,t,l-1,r),l<n&&await p(e,l,n,r)),e},M=async(e,t,l,o)=>{const c=e[Math.floor((l+t)/2)];y=!0;let i=t,a=l;for(;i<=a;){for(;-1===o(e[i],c);)i++;for(;1===o(e[a],c);)a--;if(i<=a){if(b(e,i,a),r(i,a,e),await n(100),!g)return void(y=!1);i++,a--}}return y=!1,i},I=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;w="selection";const{length:t}=l;let o;y=!0;for(let c=0;c<t-1;c++){o=c;for(let n=c;n<t;n++)1===e(l[o],l[n])&&(o=n);if(c!==o&&(b(l,c,o),r(c,o,l),await n(100),!g))return void(y=!1)}y=!1},T=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;if(g){if(t<n){const l=Math.floor((t+n)/2);await T(e,t,l,r),await T(e,l+1,n,r),await N(e,t,l,n,r)}}else y=!1},N=async(e,t,o,c,i)=>{const a=e.slice(t,o+1),s=e.slice(o+1,c+1);y=!0;let u=0,d=0,m=t;for(;u<a.length&&d<s.length;){if(!g)return y=!1,void(l=e);-1===i(a[u],s[d])?e[m++]=a[u++]:e[m++]=s[d++],r(t,c,e),await n(100)}for(;u<a.length;)e[m++]=a[u++],r(t,c,e),await n(100);for(;d<s.length;)e[m++]=s[d++],r(t,c,e),await n(100);y=!1,r(t,c,e),await n(100)},x=function(e){w="merge";const t=[...e];return T(t,0,t.length-1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:S),t};o.addEventListener("click",(()=>{g=!0,y||L()})),c.addEventListener("click",(()=>{g=!0,y||k()})),i.addEventListener("click",(()=>{g=!0,y||E(l)})),a.addEventListener("click",(()=>{g=!0,y||I()})),s.addEventListener("click",(()=>{g=!0,y||x(l)})),u.addEventListener("click",(()=>{y||(l=e(),r(null,null,l))})),d.addEventListener("click",(()=>{g||(g=!0,"bubble"==w&&L(),"insertion"==w&&k(),"quick"==w&&E(l),"selection"==w&&I(),"merge"==w&&x(l))})),m.addEventListener("click",(()=>{g=!1})),h.addEventListener("click",(()=>{l=f.value.split(" ").map(Number),r(null,null,l)})),l=e(),r(null,null,l)})();